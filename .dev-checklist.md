# Development Setup Checklist

Use this checklist to get your local development environment running.

## ‚òëÔ∏è Prerequisites

- [ ] OpenShift CLI (`oc`) installed
- [ ] Connected to cluster: `oc whoami`
- [ ] In correct namespace: `oc project <your-namespace>`
- [ ] Tekton Pipelines operator installed on cluster
- [ ] Node.js/npm installed: `node --version`
- [ ] Podman or Docker installed: `podman --version` or `docker --version`

## ‚òëÔ∏è First Time Setup

- [ ] Clone repository (done)
- [ ] Install dependencies: `npm install`
- [ ] Deploy backend: `./deploy-local-dev.sh`
- [ ] Verify deployment:
  ```bash
  oc get pipeline rpm-build-pipeline
  oc get tasks
  oc get sa rpm-builder-sa
  ```

## ‚òëÔ∏è Daily Development

### Starting Development

- [ ] **Terminal 1**: Start webpack dev server
  ```bash
  npm start
  ```
  Wait for: `webpack compiled successfully`

- [ ] **Terminal 2**: Start console bridge
  ```bash
  ./start-console.sh
  ```
  Wait for: Console URL appears

- [ ] **Browser**: Open http://localhost:9000
- [ ] Navigate to: Builds ‚Üí RPM Builder

### Making Changes

- [ ] Edit code in `src/` directory
- [ ] Save file ‚Üí Webpack auto-reloads
- [ ] Refresh browser to see changes
- [ ] Test functionality in UI

### Testing Builds

- [ ] Create a test build in UI
- [ ] Monitor in UI or check status:
  ```bash
  oc get pipelineruns
  ```
- [ ] View logs if needed:
  ```bash
  oc logs -f <pipelinerun-pod-name>
  ```

### Stopping Development

- [ ] Stop webpack dev server: `Ctrl+C` in Terminal 1
- [ ] Stop console bridge: `Ctrl+C` in Terminal 2
- [ ] (Optional) Clean up old builds:
  ```bash
  oc delete pipelineruns -l app=rpm-builder
  ```

## ‚òëÔ∏è End of Day / Week Cleanup

- [ ] Delete completed PipelineRuns:
  ```bash
  oc get pipelineruns  # review
  oc delete pipelinerun <name>  # delete specific ones
  ```

- [ ] Check resource usage:
  ```bash
  oc get pvc -l app=rpm-builder
  ```

- [ ] (Optional) Full cleanup if switching projects:
  ```bash
  ./cleanup-local-dev.sh
  ```

## ‚òëÔ∏è Updating Backend Resources

If you modify `k8s/tekton-pipeline.yaml` or `k8s/rbac.yaml`:

- [ ] Re-deploy: `./deploy-local-dev.sh`
- [ ] Verify: `oc get pipeline rpm-build-pipeline`
- [ ] Test with a new build

## ‚òëÔ∏è Troubleshooting Steps

### UI doesn't load in console
- [ ] Check webpack dev server is running on port 9001
- [ ] Check console bridge is running on port 9000
- [ ] Check browser console for errors (F12)

### Pipeline not found error
- [ ] Verify deployment: `oc get pipeline rpm-build-pipeline`
- [ ] Check namespace: `oc project -q`
- [ ] Re-deploy if needed: `./deploy-local-dev.sh`

### Build fails to start
- [ ] Check Tekton operator: `oc get operators | grep tekton`
- [ ] Check permissions: `oc auth can-i create pipelineruns`
- [ ] Check resource quotas: `oc describe quota`

### Port already in use
- [ ] Find process: `lsof -ti:9001` or `lsof -ti:9000`
- [ ] Kill process: `kill -9 <pid>`
- [ ] Restart development servers

## üìö Documentation Links

- **Quick Start**: [QUICK_START.md](QUICK_START.md) - Fast overview
- **Full Guide**: [LOCAL_DEVELOPMENT.md](LOCAL_DEVELOPMENT.md) - Detailed documentation
- **Usage**: [USAGE.md](USAGE.md) - How to use the UI
- **Testing**: [TEST_GUIDE.md](TEST_GUIDE.md) - Running tests
- **README**: [README.md](README.md) - Project overview

## üéØ Common Commands

```bash
# View cluster resources
oc get pipelineruns
oc get pvc
oc get configmaps -l app=rpm-builder

# View logs
oc logs -f <pipelinerun-pod-name>

# Delete resources
oc delete pipelinerun <name>
oc delete pvc <name>

# Check permissions
oc auth can-i create pipelineruns
oc auth can-i create configmaps

# Namespace info
oc project
oc get all
oc describe quota
```

## üìû Getting Help

1. Check browser console (F12)
2. Check webpack dev server output (Terminal 1)
3. Check console bridge output (Terminal 2)
4. Check cluster resources: `oc get all -l app=rpm-builder`
5. Check PipelineRun status: `oc describe pipelinerun <name>`

---

**Last Updated**: $(date)
**Namespace**: Run `oc project -q` to see your current namespace

